{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet LoginComponent = class LoginComponent {\n  // @ViewChild('errorMessageComponent') errorMessage;\n  constructor(route, auth, router) {\n    this.route = route;\n    this.auth = auth;\n    this.router = router;\n    this.email = \"\";\n    this.password = \"\";\n    this.role = \"utilisateurs\";\n  }\n\n  ngOnInit() {} // Launch the connexion process on the backend with the AuthenticationService for a User\n  // If it success, then we go to the home page of the User.\n  // If not, an error specified form the backend is displayed.\n  // It need:\n  //  + email\n  //  + password\n\n\n  userConnection() {\n    this.auth.sendAuthentication(this.email, this.password, \"User\").subscribe(res => {\n      // Once we have received response from the backend, we launch the finalization of the authentication process in\n      // order to store the status of the user.\n      this.auth.finalizeAuthentication(res);\n      console.log(res);\n\n      if (res.status === 'error') {// this.errorMessage.sendError(res.data.reason);\n      } else {\n        this.router.navigateByUrl('/userhomepage').then();\n      }\n    });\n  } // Launch the connexion process on the backend with the AuthenticationService for a User\n  // If it success, then we go to the home page of the User.\n  // If not, an error specified form the backend is displayed.\n  // It need:\n  //  + email\n  //  + password\n\n\n  annonceurConnection() {\n    this.auth.sendAuthentication(this.email, this.password, \"Annonceur\").subscribe(res => {\n      // Once we have received response from the backend, we launch the finalization of the authentication process in\n      // order to store the status of the user.\n      this.auth.finalizeAuthentication(res);\n      console.log(res);\n\n      if (res.status === 'error') {// this.errorMessage.sendError(res.data.reason);\n      } else {\n        this.router.navigateByUrl('/annonceurhomepage').then();\n      }\n    });\n  } // Launch the connexion process on the backend with the AuthenticationService for a User\n  // If it success, then we go to the home page of the User.\n  // If not, an error specified form the backend is displayed.\n  // It need:\n  //  + email\n  //  + password\n\n\n  adminConnection() {\n    this.auth.sendAuthentication(this.email, this.password, \"Admin\").subscribe(res => {\n      // Once we have received response from the backend, we launch the finalization of the authentication process in\n      // order to store the status of the user.\n      this.auth.finalizeAuthentication(res);\n      console.log(res);\n\n      if (res.status === 'error') {// this.errorMessage.sendError(res.data.reason);\n      } else {\n        this.router.navigateByUrl('/adminhomepage').then();\n      }\n    });\n  }\n\n  setRole(role) {\n    this.role = role;\n  }\n\n};\nLoginComponent = __decorate([Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss']\n})], LoginComponent);\nexport { LoginComponent };","map":null,"metadata":{},"sourceType":"module"}